<!--
Copyright (C) 2023-2025 anonymous

This file is part of PSFree.

PSFree is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

PSFree is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
    /* إعدادات الخلفية الأصلية */
    body {
        background: #000 url('qq.png') no-repeat center center fixed !important;
        background-size: 100% 100% !important;
        margin: 0; padding: 0; overflow: hidden; height: 100vh;
        font-family: 'Courier New', monospace;
    }

    /* العنوان الأخضر المضيء - فوق الصندوق مباشرة */
    .exploit-title {
        position: fixed !important;
        top: 15% !important;
        left: 0; width: 100%;
        text-align: center !important;
        color: #00ff41 !important;
        font-size: 20px !important;
        font-weight: bold !important;
        text-shadow: 0 0 15px #00ff41;
        z-index: 9999;
    }

    /* الصندوق الشفاف - تم تعديله ليجذب أي كود خارجي */
    #log, .msgs, #messages, #msgs, .log, [id*="log"], [class*="msg"] { 
        position: fixed !important;
        top: 25% !important;
        left: 20% !important;
        width: 60% !important;
        height: 40% !important;
        background: rgba(0, 0, 0, 0.6) !important;
        border: 1px solid #00ff41 !important;
        border-radius: 12px !important;
        padding: 15px !important;
        overflow-y: auto !important;
        color: #00ff41 !important; /* إجبار اللون الأخضر داخل الصندوق */
        font-size: 14px !important;
        z-index: 9998 !important;
        box-shadow: 0 0 20px rgba(0, 255, 65, 0.2) !important;
        text-align: left !important;
    }

    /* الشريط السفلي */
    .footer-bar {
        position: fixed !important;
        bottom: 0 !important;
        left: 0; width: 100%;
        height: 50px !important;
        background: rgba(0, 0, 0, 0.8) !important;
        border-top: 1px solid #00ff41 !important;
        z-index: 10000 !important;
        display: flex;
        align-items: center;
        padding-left: 20px;
    }

    /* التاريخ والوقت معاً في الشريط السفلي يسار */
    .info-container {
        color: #fff;
        font-size: 14px;
        display: flex;
        gap: 20px; /* مسافة بين الوقت والتاريخ */
    }

    #live-clock, #live-date {
        color: #fff !important;
        text-shadow: none !important;
    }

    /* إخفاء أي عنصر يحاول الخروج من الصندوق (إجبار) */
    body > div:not(.footer-bar):not(.exploit-title):not(#log) {
        color: #00ff41 !important;
    }
</style>
</head>
<body>

<div class="exploit-title">العقيلي - LAPSE EXPLOIT FOR FIRMWARE 9.00</div>

<div id="log"></div>

<div class="footer-bar">
    <div class="info-container">
        <span id="live-date"></span>
        <span id="live-clock">00:00:00</span>
    </div>
</div>

<script>
    function update() {
        var d = new Date();
        var h = String(d.getHours()).padStart(2, '0');
        var m = String(d.getMinutes()).padStart(2, '0');
        var s = String(d.getSeconds()).padStart(2, '0');
        document.getElementById("live-clock").innerText = h + ":" + m + ":" + s;
        document.getElementById("live-date").innerText = d.getFullYear() + "/" + (d.getMonth()+1) + "/" + d.getDate();
        setTimeout(update, 1000);
    }
    update();

    // وظيفة إضافية لإجبار الأكواد المبعثرة على الدخول للصندوق
    window.onload = function() {
        var logBox = document.getElementById('log');
        // إذا وجدنا أي ديف (div) غريب يحتوي على نصوص الثغرة، سننقله فوراً للصندوق
        setInterval(function() {
            var divs = document.querySelectorAll('div');
            divs.forEach(function(div) {
                if (div.innerText.includes('payload') || div.innerText.includes('loading')) {
                   if (div.id !== 'log' && div.className !== 'footer-bar') {
                       logBox.appendChild(div);
                   }
                }
            });
        }, 500);
    };
</script>
    
  <div class="card">
    <h1>PSFree - Lapse Exploit for Firmware 9.00</h1>
    <pre id="console"></pre>
  </div>

  <script src="payload.js"></script>
  <script type="module" src="./alert.mjs"></script>
</body>
</html>
</html>
